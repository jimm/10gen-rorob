= About Ruby on Rails on Babble

This is a sample Rails application that runs on 10gen's Babble app server and
uses their Mongo object-oriented database.


= How To Babble-ify Your Rails App

1. Freeze Rails.

        % rake rails:freeze:gems

   This puts a copy of Rails inside your application, in the vendor/rails
   directory.

2. Create the file _init.rb in the root directory of your Rails app:

        require 'xgen/rails/init'

3. Create the file public/xgen_dispatch.rbcgi:

        require 'xgen/rails'
        Dispatcher.dispatch

4. Use XGen::Mongo::Base instead of ActiveRecord::Base

        class Course < XGen::Mongo::Base

          # Declare Mongo collection name and ivars to be saved
          collection_name :courses
          field :name

          def to_s
            "Course #{name}"
          end
        end

   See the classes in app/models for more samples.

5. Optional: don't load ActiveRecord. In config/environment.rb, inside the
    Rails::Initializer block, add this line:

        config.frameworks -= [ :active_record ]


= How To Run Your Rails App

Download the 10gen SDK (http://www.10gen.com/wiki/SDK), then see the Quick
Start guide (http://www.10gen.com/wiki/SDK.QuickStart).

Log messages are sent to the capped collection named rails_log_{RAILS_ENV}.

#--
# Local Variables:
# mode: rdoc
# End:
